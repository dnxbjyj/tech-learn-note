<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>elisp-notes</title>
<!-- 2019-06-01 周六 11:27 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">elisp-notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 语法</a>
<ul>
<li><a href="#sec-1-1">1.1. 变量</a></li>
<li><a href="#sec-1-2">1.2. 函数</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. 基础</a></li>
<li><a href="#sec-1-2-2">1.2.2. Buffer</a></li>
<li><a href="#sec-1-2-3">1.2.3. IO</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. 流程控制语句</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1. 代码结构</a></li>
<li><a href="#sec-1-3-2">1.3.2. 条件控制</a></li>
</ul>
</li>
<li><a href="#sec-1-4">1.4. 数据结构</a></li>
</ul>
</li>
<li><a href="#sec-2">2. 有用代码片段</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 语法</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 变量</h3>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> 函数</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> 基础</h4>
<div class="outline-text-4" id="text-1-2-1">
</div><ol class="org-ol"><li><a id="sec-1-2-1-1" name="sec-1-2-1-1"></a>length&#xa0;&#xa0;&#xa0;<span class="tag"><span class="function">function</span></span><br  /><div class="outline-text-5" id="text-1-2-1-1">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
length is a built-in function in ‘C source code’.
(length SEQUENCE)
Return the length of vector, list or string SEQUENCE.
A byte-code function object is also allowed.
If the string contains multibyte characters, this is not necessarily
the number of bytes in the string; it is the number of characters.
To get the number of bytes, use ‘string-bytes’.
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Buffer</h4>
<div class="outline-text-4" id="text-1-2-2">
</div><ol class="org-ol"><li><a id="sec-1-2-2-1" name="sec-1-2-2-1"></a>basic-save-buffer&#xa0;&#xa0;&#xa0;<span class="tag"><span class="command">command</span></span><br  /><div class="outline-text-5" id="text-1-2-2-1">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
basic-save-buffer is an interactive compiled Lisp function in
‘files.el’.
(basic-save-buffer &amp;optional CALLED-INTERACTIVELY)
Save the current buffer in its visited file, if it has been modified.
The hooks ‘write-contents-functions’ and ‘write-file-functions’ get a chance
to do the job of saving; if they do not, then the buffer is saved in
the visited file in the usual way.
Before and after saving the buffer, this function runs
‘before-save-hook’ and ‘after-save-hook’, respectively.
</p>
<dl class="org-dl">
<dt> tip </dt><dd></dd>
</dl>
<p>
如果保存buffer的时候，buffer已经关联了文件，那么会自动保存buffer内容到此文件里。如果buffer没有关联文件，那么会提示输入要保存到的文件名。
</p>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> IO</h4>
<div class="outline-text-4" id="text-1-2-3">
</div><ol class="org-ol"><li><a id="sec-1-2-3-1" name="sec-1-2-3-1"></a>with-temp-message&#xa0;&#xa0;&#xa0;<span class="tag"><span class="macro">macro</span></span><br  /><div class="outline-text-5" id="text-1-2-3-1">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
with-temp-message is a Lisp macro in ‘subr.el’.
(with-temp-message MESSAGE &amp;rest BODY)
Display MESSAGE temporarily if non-nil while BODY is evaluated.
The original message is restored to the echo area after BODY has finished.
The value returned is the value of the last form in BODY.
MESSAGE is written to the message log buffer if ‘message-log-max’ is non-nil.
If MESSAGE is nil, the echo area and message log buffer are unchanged.
Use a MESSAGE of "" to temporarily clear the echo area.
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(with-temp-message "" (+ 1 2) (* 8 9))
</pre>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> 流程控制语句</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> 代码结构</h4>
<div class="outline-text-4" id="text-1-3-1">
</div><ol class="org-ol"><li><a id="sec-1-3-1-1" name="sec-1-3-1-1"></a>progn&#xa0;&#xa0;&#xa0;<span class="tag"><span class="specialform">specialform</span></span><br  /><div class="outline-text-5" id="text-1-3-1-1">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
progn is a special form in ‘C source code’.
(progn BODY&#x2026;)
Eval BODY forms sequentially and return value of last one.
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(progn
  (+ 1 3)
  (* 3 6))
</pre>
</div>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> 条件控制</h4>
<div class="outline-text-4" id="text-1-3-2">
</div><ol class="org-ol"><li><a id="sec-1-3-2-1" name="sec-1-3-2-1"></a>cond&#xa0;&#xa0;&#xa0;<span class="tag"><span class="specialform">specialform</span></span><br  /><div class="outline-text-5" id="text-1-3-2-1">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
cond is a special form in ‘C source code’.
(cond CLAUSES&#x2026;)
Try each clause until one succeeds.
Each clause looks like (CONDITION BODY&#x2026;).  CONDITION is evaluated
and, if the value is non-nil, this clause succeeds:
then the expressions in BODY are evaluated and the last one’s
value is the value of the cond-form.
If a clause has one element, as in (CONDITION), then the cond-form
returns CONDITION’s value, if that is non-nil.
If no clause succeeds, cond returns nil.
</p>
<dl class="org-dl">
<dt> tip </dt><dd></dd>
</dl>
<p>
类似于其他编程语言中的switch语句。
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq score 74)
(cond
 ((&gt;= score 85) (print "A"))  ;; 相当于switch语句中的case语句
 ((&gt;= score 75) (print "B"))
 ((&gt;= score 60) (print "C"))
 (t (print "D")))  ;; 相当于switch语句中的default语句
</pre>
</div>
</div>
</li>
<li><a id="sec-1-3-2-2" name="sec-1-3-2-2"></a>when&#xa0;&#xa0;&#xa0;<span class="tag"><span class="macro">macro</span></span><br  /><div class="outline-text-5" id="text-1-3-2-2">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
when is a Lisp macro in ‘subr.el’.
(when COND BODY&#x2026;)
If COND yields non-nil, do BODY, else return nil.
When COND yields non-nil, eval BODY forms sequentially and return
value of last one, or nil if there are none.
</p>
<dl class="org-dl">
<dt> tip </dt><dd></dd>
</dl>
<p>
当COND条件为非nil时，执行BODY，否则返回nil。
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(when (&gt; 1 2)
  (print "aaa"))
</pre>
</div>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(when (&lt; 1 2)
  (print "bbb"))
</pre>
</div>
</div>
</li>
<li><a id="sec-1-3-2-3" name="sec-1-3-2-3"></a>unless&#xa0;&#xa0;&#xa0;<span class="tag"><span class="macro">macro</span></span><br  /><div class="outline-text-5" id="text-1-3-2-3">
<dl class="org-dl">
<dt> doc </dt><dd></dd>
</dl>
<p>
unless is a Lisp macro in ‘subr.el’.
(unless COND BODY&#x2026;)
If COND yields nil, do BODY, else return nil.
When COND yields nil, eval BODY forms sequentially and return
value of last one, or nil if there are none.
</p>
<dl class="org-dl">
<dt> tip </dt><dd></dd>
</dl>
<p>
用法和when正好相反，当COND条件为nil时，才执行BODY，否则返回nil。
</p>
<dl class="org-dl">
<dt> demo </dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(unless (&gt; 1 2)
  (print "aaa"))
</pre>
</div>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(unless (&lt; 1 2)
  (print "bbb"))
</pre>
</div>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> 数据结构</h3>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 有用代码片段</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2019-06-01 周六 11:27</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
